<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Smart Parking System</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f4f4f9;
      margin: 0;
      padding: 0;
    }header, footer {
  background-color: #2C3E50;
  color: white;
  text-align: center;
  padding: 20px;
}

main {
  padding: 20px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
}

.section {
  width: 100%;
  max-width: 1200px;
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.parking-spots {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 20px;
}

.spot {
  background-color: #ffffff;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  text-align: center;
  transition: transform 0.3s ease;
  cursor: pointer;
}

.spot:hover { transform: scale(1.05); }

.spot.reserved { background-color: #e74c3c; color: white; }

button {
  padding: 10px 15px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 14px;
  margin-top: 10px;
}

.reserve-btn { background-color: #2C3E50; color: white; }
.cancel-btn { background-color: #e74c3c; color: white; }

#map { height: 400px; width: 100%; margin-top: 20px; }

  </style>
</head>
<body>  <header>Smart Parking System</header>  <main>
    <section class="section">
      <h2>Available Parking Spots</h2>
      <div class="parking-spots" id="parkingContainer"></div>
    </section><section class="section">
  <h2>Nearby Parking Locations</h2>
  <div id="map"></div>
  <button onclick="findNearbyParking()">Find Nearby Malls</button>
</section>

  </main>  <footer>
    <p>Contact Us: <a href="mailto:support@parkingsystem.com" style="color: white;">support@parkingsystem.com</a></p>
  </footer>  <script>
    const spots = 2;

    function loadSpots() {
      const container = document.getElementById('parkingContainer');
      container.innerHTML = '';
      for (let i = 1; i <= spots; i++) {
        const reservedData = JSON.parse(localStorage.getItem('spot' + i)) || {};
        const timeRemaining = reservedData.expires ? Math.max(0, Math.floor((reservedData.expires - Date.now()) / 60000)) : 60;
        
        const spot = document.createElement('div');
        spot.classList.add('spot');
        spot.id = 'spot' + i;
        if (reservedData.name) spot.classList.add('reserved');
        
        spot.innerHTML = `<p>Spot ${i}</p>
          <div class="timer" id="timer${i}">Time remaining: ${timeRemaining}:00 minutes</div>
          <button class="reserve-btn" onclick="reserveSpot(${i})">Reserve</button>
          ${reservedData.name ? `<button class="cancel-btn" onclick="cancelReservation(${i})">Cancel</button>` : ''}`;
        
        container.appendChild(spot);
        if (reservedData.name) startTimer(i, timeRemaining);
      }
    }

    function reserveSpot(spotId) {
      const name = prompt("Enter your name:");
      if (!name) return;
      const minutes = parseInt(prompt("Enter reservation time in minutes:"), 10);
      if (!minutes || isNaN(minutes)) return alert("Invalid time!");
      
      const expires = Date.now() + minutes * 60000;
      localStorage.setItem('spot' + spotId, JSON.stringify({ name, expires }));
      loadSpots();
    }

    function cancelReservation(spotId) {
      localStorage.removeItem('spot' + spotId);
      loadSpots();
    }

    function startTimer(spotId, time) {
      const timerElement = document.getElementById('timer' + spotId);
      let remainingTime = time * 60;
      
      const countdown = setInterval(() => {
        if (remainingTime <= 0) {
          clearInterval(countdown);
          cancelReservation(spotId);
        } else {
          remainingTime--;
          const minutes = Math.floor(remainingTime / 60);
          const seconds = remainingTime % 60;
          timerElement.textContent = `Time remaining: ${minutes}:${seconds < 10 ? '0' : ''}${seconds} minutes`;
        }
      }, 1000);
    }

    function findNearbyParking() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showNearbyParking, errorHandler);
      } else {
        alert("Geolocation is not supported by this browser.");
      }
    }

    function showNearbyParking(position) {
      const lat = position.coords.latitude;
      const lng = position.coords.longitude;
      const map = new google.maps.Map(document.getElementById("map"), { center: { lat, lng }, zoom: 14 });
      
      const service = new google.maps.places.PlacesService(map);
      service.nearbySearch(
        { location: { lat, lng }, radius: 5000, type: ["parking"] },
        function (results, status) {
          if (status === google.maps.places.PlacesServiceStatus.OK) {
            results.forEach(place => {
              new google.maps.Marker({ position: place.geometry.location, map, title: place.name });
            });
          }
        }
      );
    }

    function errorHandler(error) {
      alert("Unable to retrieve location.");
    }

    window.onload = loadSpots;
  </script>  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&libraries=places"></script></body>
</html>
